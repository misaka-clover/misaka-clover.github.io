<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="叶子"><meta name="copyright" content="叶子"><meta name="generator" content="Hexo 7.2.0"><meta name="theme" content="hexo-theme-yun"><title>【笔记】ns-3 与 openai-gym 初入门 | 叶子的花园</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"mskclover.com","root":"/","title":"叶子的花园","version":"1.10.11","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="叶子的花园" type="application/atom+xml"><script src="/" async></script><script src="/j" async></script><script src="/a" async></script><script src="/v" async></script><script src="/a" async></script><script src="/s" async></script><script src="/c" async></script><script src="/r" async></script><script src="/i" async></script><script src="/p" async></script><script src="/t" async></script><script src="/" async></script><script src="/g" async></script><script src="/o" async></script><script src="/o" async></script><script src="/g" async></script><script src="/l" async></script><script src="/e" async></script><script src="/a" async></script><script src="/d" async></script><script src="/." async></script><script src="/j" async></script><script src="/s" async></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-6VWG03H880"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6VWG03H880');
}</script><script data-ad-client="pub-4618904761682457" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="description" content="又学习了新的东西">
<meta property="og:type" content="article">
<meta property="og:title" content="【笔记】ns-3 与 openai-gym 初入门">
<meta property="og:url" content="https://mskclover.com/2023/04/24/beginner-of-ns-3-and-openai-gym/index.html">
<meta property="og:site_name" content="叶子的花园">
<meta property="og:description" content="又学习了新的东西">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://mskclover.com/images/beginner-of-ns-3-and-openai-gym/cover.jpg">
<meta property="og:image" content="https://mskclover.com/images/beginner-of-ns-3-and-openai-gym/anaconda.jpg">
<meta property="og:image" content="https://mskclover.com/images/beginner-of-ns-3-and-openai-gym/ns3_web.jpg">
<meta property="og:image" content="https://mskclover.com/images/beginner-of-ns-3-and-openai-gym/ns3_gym_web.jpg">
<meta property="og:image" content="https://mskclover.com/images/beginner-of-ns-3-and-openai-gym/Architecture-of-ns3-gym-framework.png">
<meta property="og:image" content="https://mskclover.com/images/beginner-of-ns-3-and-openai-gym/linux_error.jpg">
<meta property="article:published_time" content="2023-04-24T11:49:34.000Z">
<meta property="article:modified_time" content="2024-07-05T08:09:21.465Z">
<meta property="article:author" content="叶子">
<meta property="article:tag" content="博文">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="Ubuntu">
<meta property="article:tag" content="ns-3">
<meta property="article:tag" content="opai-gym">
<meta property="article:tag" content="安装环境">
<meta property="article:tag" content="毕设">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mskclover.com/images/beginner-of-ns-3-and-openai-gym/cover.jpg"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="叶子"><img width="96" loading="lazy" src="/images/avatar/avatar.jpg" alt="叶子"><span class="site-author-status" title="今天也是美好的一天呢">🥬</span></a><div class="site-author-name"><a href="/about/">叶子</a></div><a class="site-name" href="/about/site.html">叶子的花园</a><sub class="site-subtitle">靡不有初，鲜克有终</sub><div class="site-description">@Misaka-Clover</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">59</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">8</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">139</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="留言板"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/misaka-clover" title="GitHub" target="_blank" style="color:#181717"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/Misaka_Clover" title="Twitter" target="_blank" style="color:#1da1f2"><span class="icon iconify" data-icon="ri:twitter-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://g0v.social/@Misaka_Clover" title="Mastodon" target="_blank" style="color:purple"><span class="icon iconify" data-icon="ri:mastodon-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:cover@mskclover.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.travellings.cn/go.html" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><span class="icon iconify" data-icon="ri:train-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">前置环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Anaconda"><span class="toc-number">1.1.</span> <span class="toc-text">Anaconda</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%88%E5%86%B3%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.1.1.</span> <span class="toc-text">先决条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.2.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.3.</span> <span class="toc-text">使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ns-3"><span class="toc-number">2.</span> <span class="toc-text">ns-3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-number">2.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%88%E5%86%B3%E6%9D%A1%E4%BB%B6-1"><span class="toc-number">2.1.1.</span> <span class="toc-text">先决条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%C2%B7I"><span class="toc-number">2.1.2.</span> <span class="toc-text">报错·I</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81"><span class="toc-number">2.1.3.</span> <span class="toc-text">下载源码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA"><span class="toc-number">2.2.</span> <span class="toc-text">构建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%C2%B7II"><span class="toc-number">2.2.1.</span> <span class="toc-text">报错·II</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">2.2.2.</span> <span class="toc-text">测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hello-World"><span class="toc-number">2.3.</span> <span class="toc-text">Hello World</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ns3-gym"><span class="toc-number">3.</span> <span class="toc-text">ns3-gym</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-2"><span class="toc-number">3.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%C2%B7III"><span class="toc-number">3.2.</span> <span class="toc-text">报错·III</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">其他遇到的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98"><span class="toc-number">4.1.</span> <span class="toc-text">安装方式出现问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">4.2.</span> <span class="toc-text">虚拟机注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">4.3.</span> <span class="toc-text">版本注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ubuntu-%E7%B3%BB%E7%BB%9F%E9%97%AE%E9%A2%98"><span class="toc-number">4.4.</span> <span class="toc-text">Ubuntu 系统问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E8%AE%B0"><span class="toc-number">5.</span> <span class="toc-text">后记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">其他参考资料：</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://mskclover.com/2023/04/24/beginner-of-ns-3-and-openai-gym/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="叶子"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="叶子的花园"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">【笔记】ns-3 与 openai-gym 初入门</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <span class="post-meta-icon-text">发表于</span> <time title="创建时间：2023-04-24 19:49:34" itemprop="dateCreated datePublished" datetime="2023-04-24T19:49:34+08:00">2023-04-24</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <span class="post-meta-icon-text">更新于</span> <time title="修改时间：2024-07-05 16:09:21" itemprop="dateModified" datetime="2024-07-05T16:09:21+08:00">2024-07-05</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="本文字数">5.8k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="阅读时长">26m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%8F%B6%E5%AD%90%E7%9A%84%E5%B0%8F%E7%9F%A5%E8%AF%86/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">叶子的小知识</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E5%8D%9A%E6%96%87/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">博文</span></a><a class="tag-item" href="/tags/%E7%AC%94%E8%AE%B0/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">笔记</span></a><a class="tag-item" href="/tags/Ubuntu/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Ubuntu</span></a><a class="tag-item" href="/tags/ns-3/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">ns-3</span></a><a class="tag-item" href="/tags/opai-gym/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">opai-gym</span></a><a class="tag-item" href="/tags/%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">安装环境</span></a><a class="tag-item" href="/tags/%E6%AF%95%E8%AE%BE/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">毕设</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><p><img src="/images/beginner-of-ns-3-and-openai-gym/cover.jpg" alt="cover" loading="lazy"></p>
<p>最近因为在做<strong>毕设</strong>时需要学习一些更新的知识、与使用更复杂的工具，所以我想还是像以往那样，通过记下学习笔记的方式辅助自己学习，所以就开始写这篇笔记。</p>
<span id="more"></span>

<p>既然是笔记，那就不用那么多修饰的字词了，简单就好：</p>
<h2 id="前置环境搭建"><a href="#前置环境搭建" class="headerlink" title="前置环境搭建"></a>前置环境搭建</h2><p><strong>写在前面：<label style="color:red">一定要善用 VMware 的快照功能！</label></strong></p>
<p>在一切开始之前，需要先准备好合适的环境：</p>
<ul>
<li>虚拟机：VMware® Workstation 16 Pro（16.2.5 build-20904516）</li>
<li>系统：Ubuntu 22.04.2 LTS（此时更推荐使用 Ubuntu 20）</li>
<li>⚠️ 注意：请至少为虚拟机分配 50 G 以上的空间，以保证在后续步骤中不会遇到空间不足的问题。</li>
</ul>
<p>首先，对于一个全新的系统，我们需要安装一个代码编辑器：比如 VS Code 或者 PyCharm，可以在官网或者 Ubuntu 的官方商店下载安装。虽然我两个都安装了，不过因为师兄推荐用后者，所以在下文我就以 PyCharm 为主吧。</p>
<h3 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h3><p><img src="/images/beginner-of-ns-3-and-openai-gym/anaconda.jpg" alt="anaconda" loading="lazy"></p>
<p>Anaconda 是一个开源的 Python 和 R 语言的发行版本，具有管理 Python 的环境和包的工具，提供数据科学和机器学习的开发环境。根据官方的<a target="_blank" rel="noopener" href="https://docs.anaconda.com/free/anaconda/install/linux/">安装教程</a>，我们立刻进行一个安装：</p>
<h4 id="先决条件"><a href="#先决条件" class="headerlink" title="先决条件"></a>先决条件</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 首先，个人建议先更新软件源列表：</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token comment"># 升级已安装的软件包</span>
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade
<span class="token function">sudo</span> <span class="token function">apt-get</span> update

<span class="token comment"># Prerequisites</span>
<span class="token comment"># To use GUI packages with Linux, you will need to install </span>
<span class="token comment"># the following extended dependencies for Qt:</span>
<span class="token comment"># 要在 Linux 中使用 GUI 包，您需要为 Qt 安装以下扩展依赖项：</span>

<span class="token comment"># Debian</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libgl1-mesa-glx libegl1-mesa libxrandr2 libxrandr2 libxss1 libxcursor1 libxcomposite1 libasound2 libxi6 libxtst6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>对于 x86 系统，也就是我们现在所使用的大多数系统，其安装方式如下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 1. In your browser, download the [Anaconda installer for Linux]</span>
<span class="token comment">#    https://www.anaconda.com/download/#linux/.</span>

-----

<span class="token comment"># 2. Search for “terminal” in your applications and click to open.</span>

-----

<span class="token comment"># 3. (Recommended) [Verify the installer’s data integrity with SHA-256].</span>
<span class="token comment">#    For more information on hash verification, see [cryptographic hash validation].</span>

<span class="token comment"># In the terminal, run the following:</span>
<span class="token comment"># shasum -a 256 /PATH/FILENAME</span>
shasum <span class="token parameter variable">-a</span> <span class="token number">256</span> ./Downloads/Anaconda3-2023.03-1-Linux-x86_64.sh
<span class="token comment"># Replace /PATH/FILENAME with your installation's path and filename.</span>

-----

<span class="token comment"># 4. Install for Python 3.7 or 2.7 in the terminal:</span>
<span class="token comment">#    For Python 3.7, enter the following:</span>

<span class="token comment"># Include the bash command regardless of whether or not you are using the Bash shell</span>
<span class="token comment"># 无论您是否使用 Bash shell，都包括 bash 命令</span>
<span class="token comment"># bash ~/Downloads/Anaconda3-2020.05-Linux-x86_64.sh</span>
<span class="token function">bash</span> ./Downloads/Anaconda3-2023.03-1-Linux-x86_64.sh
<span class="token comment"># Replace ~/Downloads with your actual path</span>
<span class="token comment"># Replace the .sh file name with the name of the file you downloaded</span>

-----

<span class="token comment"># 5. Press Enter to review the license agreement.</span>
<span class="token comment">#    Then press and hold Enter to scroll.</span>

<span class="token comment"># 6. Enter “yes” to agree to the license agreement.</span>

-----

<span class="token comment"># 7. Use Enter to accept the default install location, use CTRL+C to cancel the installation, or enter another file path to specify an alternate installation directory. If you accept the default install location, the installer displays `PREFIX=/home/&lt;USER>/anaconda&lt;2/3>` and continues the installation. It may take a few minutes to complete.  </span>
<span class="token comment"># 7. 使用 Enter 接受默认安装位置，使用 CTRL+C 取消安装，或输入另一个文件路径以指定备用安装目录。如果您接受默认安装位置，安装程序将显示 `PREFIX=/home/&lt;USER>/anaconda&lt;2/3>` 并继续安装。可能需要几分钟才能完成。</span>

<span class="token comment"># NOTE: Anaconda recommends you accept the default install location. Do not choose the path as `/usr` for the Anaconda/Miniconda installation.</span>
<span class="token comment"># 注意：Anaconda 建议您接受默认安装位置。不要为 Anaconda/Miniconda 安装选择 `/usr` 路径。</span>

-----

<span class="token comment"># 8. Anaconda recommends you enter “yes” to initialize Anaconda Distribution by running `conda init`.</span>
<span class="token comment"># 8. Anaconda 建议您输入“yes”以通过运行 `conda init` 来初始化 Anaconda Distribution。</span>

<span class="token comment"># 9. The installer finishes and displays, “Thank you for installing Anaconda&lt;2/3>!”</span>

<span class="token comment"># 10. Close and re-open your terminal window for the installation to take effect, or enter the command `source ~/.bashrc` to refresh the terminal.</span>
<span class="token comment"># 10. 关闭并重新打开终端窗口以使安装生效，或输入命令 `source ~/.bashrc` 刷新终端。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>好的，这样就可以算是将 Anaconda 安装完成了。别急，还有一件事：我们还需要将 <code>~/anaconda3/bin</code> 环境配置到我们的环境变量文件 <code>PATH</code> 之中，于是</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 获取当前的路径</span>
<span class="token builtin class-name">cd</span> ~/anaconda3/bin
<span class="token builtin class-name">pwd</span>
<span class="token comment"># 我的环境返回：/home/ubuntu/anaconda3/bin</span>

<span class="token comment"># 使用编辑器 nano 修改 bashrc 文件</span>
<span class="token function">nano</span> ~/.bashrc

<span class="token comment"># 滑到最下面的位置，输入：</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/home/ubuntu/anaconda3/bin:<span class="token environment constant">$PATH</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后保存并退出，再刷新命令行，此时我们的 conda 就已经成功地安装到 Linux 系统当中了。</p>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>打开终端，在命令行中输入：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">anaconda-navigator<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>即可开启 Anaconda 的图形化界面，此时可以打开另一个终端进行操作。或者，也可以不使用 GUI，直接在命令行中使用 <code>conda</code> 命令。在 Anaconda Navigator 界面中，我们通过 GUI 管理环境和安装包，可以创建新的环境、激活&#x2F;停用环境、安装&#x2F;卸载包等。由于图形化界面大家都会，所以在下文我们以命令行为主：</p>
<p>此时，我们的系统环境是 <code>base(root)</code>，为了防止在这里一通折腾导致我像前几次一样暴毙，我们需要创建一个新的工作环境。在命令行中，使用如下指令创建新环境：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 创建新的工作环境</span>
conda create <span class="token parameter variable">--name</span> ns3-gym

<span class="token comment"># 激活/切换到新的环境</span>
conda activate ns3-gym<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>但是别急</strong>，最好不要这样做，因为新的环境里的包会很少，你做到后面不知道少了哪个包，就会很麻烦，所以直接克隆现有的 <code>base(root)</code> 环境为好：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 先切换到之前的环境</span>
conda activate base

<span class="token comment"># 删除之前的虚拟环境：</span>
conda <span class="token function">env</span> remove <span class="token parameter variable">--name</span> ns3-gym

<span class="token comment"># 将本已激活环境的依赖包配置信息到处到应该 YAML 文件：</span>
conda <span class="token function">env</span> <span class="token builtin class-name">export</span> <span class="token operator">></span> environment.yml
<span class="token comment"># 这将生成一个名为 environment.yml 的文件，其中包含当前环境的依赖包列表。</span>

<span class="token comment"># 然后创建一个新的环境，并从导出的 YAML 文件中导入依赖包：</span>
conda <span class="token function">env</span> create <span class="token parameter variable">-f</span> environment.yml <span class="token parameter variable">--name</span> ns3-gym<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在等待一段时间后，我们就可以在新环境中使用与原始环境相同的依赖包和配置了。不过需要注意的是，克隆环境是一个逐字复制环境的过程，包括所有依赖包和配置信息。这可能会占用一定的时间和磁盘空间，具体取决于环境的大小和复杂度。</p>
<p>最后，我们切换到新的环境中：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">conda activate ns3-gym<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>好啦，到这里我们就已经切换到工作环境啦，到时候一个不小心把它搞坏了也不怕。不过，我强烈建议像我这样的萌新，在这里为虚拟机存一个快照（</p>
<h2 id="ns-3"><a href="#ns-3" class="headerlink" title="ns-3"></a>ns-3</h2><p><img src="/images/beginner-of-ns-3-and-openai-gym/ns3_web.jpg" alt="ns3_web" loading="lazy"></p>
<p><a target="_blank" rel="noopener" href="https://www.nsnam.org/">官网</a>：<a target="_blank" rel="noopener" href="https://www.nsnam.org/">https://www.nsnam.org/</a></p>
<blockquote>
<p><strong>ns-3</strong> is a discrete-event network simulator for Internet systems, targeted primarily for research and educational use. ns-3 is free, open-source software, licensed under the GNU GPLv2 license, and maintained by a worldwide community.</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/tutorial/html/">官方教程</a>：<a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/tutorial/html/">https://www.nsnam.org/docs/tutorial/html/</a></p>
<blockquote>
<p><em>ns-3</em> is a discrete-event simulator typically run from the command line. It is written directly in C++, not in a high-level modeling language; simulation events are simply C++ function calls, organized by a scheduler.</p>
</blockquote>
<p>简单来说，<strong>ns-3</strong> 是一个网络协议的研究与仿真工具。</p>
<h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><h4 id="先决条件-1"><a href="#先决条件-1" class="headerlink" title="先决条件"></a>先决条件</h4><p>根据官方的<a target="_blank" rel="noopener" href="https://www.nsnam.org/docs/tutorial/html/getting-started.html#downloading-ns-3-using-bake/">教程</a>，首先要检查 &#x2F; 安装相关的第三方依赖软件包。下面的命令都是使用的 apt 工具管理，这些都是官方文档给出的；不过，由于我们使用了 <code>conda</code> 环境，所以最好能使用 <code>conda install</code> 命令安装；如果 <code>conda</code> 中没有，再使用也不迟。<strong>因为如果使用了 <code>sudo apt install</code> 指令，那就是在全局安装包了，与我们环境隔离的打算相去甚远。</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 个人建议还是先更新软件源列表：</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token comment"># 升级已安装的软件包</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade
<span class="token function">sudo</span> <span class="token function">apt-get</span> update

<span class="token comment"># 检查 git</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">git</span>
<span class="token function">git</span> <span class="token parameter variable">--version</span>

<span class="token comment"># 检查 tar</span>
<span class="token function">tar</span> <span class="token parameter variable">--version</span>

<span class="token comment"># 检查 python3</span>
python3 <span class="token parameter variable">-V</span>

<span class="token comment"># 安装 cmake</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> cmake
cmake <span class="token parameter variable">--version</span>

<span class="token comment"># 安装 g++</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> g++
g++ <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="报错·I"><a href="#报错·I" class="headerlink" title="报错·I"></a>报错·I</h4><p>此时我遇到一个问题，报错信息为：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> g++

Reading package lists<span class="token punctuation">..</span>. Done
Building dependency tree<span class="token punctuation">..</span>. Done
Reading state information<span class="token punctuation">..</span>. Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or <span class="token keyword">if</span> you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may <span class="token builtin class-name">help</span> to resolve the situation:

The following packages have unmet dependencies:
 libc6-dev <span class="token builtin class-name">:</span> Depends: libc6 <span class="token punctuation">(</span><span class="token operator">=</span> <span class="token number">2.35</span>-0ubuntu3<span class="token punctuation">)</span> but <span class="token number">2.35</span>-0ubuntu3.1 is to be installed
E: Unable to correct problems, you have held broken packages.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Ubuntu 无法安装 g++，这个问题困扰了我很长时间，我在 stackoverflow 上找到了这样的<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/66869441/unable-to-install-g-and-build-essentials-in-ubuntu-20-04">解决方法</a>：这个错误提示是因为 <code>libc6-dev</code> 这个软件包依赖的 <code>libc6</code> 软件包版本不一致。具体来说，当前系统中安装的 <code>libc6</code> 版本是 <code>2.35-0ubuntu3.1</code>，而 <code>libc6-dev</code> 要求的版本是 <code>2.35-0ubuntu3</code>。所以需要手动安装更低版本的指定软件包：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token assign-left variable">libc6</span><span class="token operator">=</span><span class="token number">2.35</span>-0ubuntu3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>然后就可以继续愉快地使用 Ubuntu 啦！</p>
<h4 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ns-3
<span class="token builtin class-name">cd</span> ns-3

<span class="token function">mkdir</span> workspace
<span class="token builtin class-name">cd</span> workspace

<span class="token comment"># 下载</span>
<span class="token function">wget</span> https://www.nsnam.org/release/ns-allinone-3.29.tar.bz2

<span class="token comment"># 解压</span>
<span class="token function">tar</span> xjf ns-allinone-3.29.tar.bz2
<span class="token builtin class-name">cd</span> ns-allinone-3.29/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h3><p>我们会使用 <code>build.py</code> 进行 ns-3 的构建：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 在构建前先查看指令</span>
./build.py <span class="token parameter variable">--help</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="报错·II"><a href="#报错·II" class="headerlink" title="报错·II"></a>报错·II</h4><p>此时又报错：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/usr/bin/env: ‘python’: No such <span class="token function">file</span> or directory<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>在查询我的好朋友 stackoverflow 后，我了解到：</p>
<blockquote>
<p>Since running the script explicitly with <code>python3</code> worked OK, it sounds like you’re on a distro where by default you only have <code>python3</code> and no <code>python</code>. As other answers suggest, you may install <code>python-is-python3</code> (which basically creates a <code>python</code> symlink pointing to <code>python3</code>)</p>
</blockquote>
<p>于是我按照好心人的<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/65934574/python-no-such-file-or-directory-when-running-python-file-as-executable">指导</a>，安装了 <code>python-is-python3</code>，命令如下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> python-is-python3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>好了，现在我们又可以愉快地下一步了（救救孩子吧，我真不想再配环境了</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 编译与安装</span>
./build.py --enable-examples --enable-tests<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>然后就是<strong>漫长的等待</strong>。如果中途因故暂停或中断了编译进程，只需要在下次重新输入相同的命令即可。在重新开始编译时，编译器会自动跳过已编译的文件，并显示：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Consolidate compiler generated dependencies of target xxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>在这之后当然仍旧是漫长地等待。在编译完成后，会显示：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">..</span>.
<span class="token punctuation">[</span><span class="token number">2616</span>/2618<span class="token punctuation">]</span> Compiling src/tap-bridge/model/tap-encode-decode.cc
<span class="token punctuation">[</span><span class="token number">2617</span>/2618<span class="token punctuation">]</span> Compiling src/tap-bridge/model/tap-creator.cc
<span class="token punctuation">[</span><span class="token number">2618</span>/2618<span class="token punctuation">]</span> Linking build/src/tap-bridge/ns3.29-tap-creator-debug
Waf: Leaving directory `/home/ubuntu/ns-3/workspace/ns-allinone-3.29/ns-3.29/build<span class="token string">'
Build commands will be stored in build/compile_commands.json
'</span>build' finished successfully <span class="token punctuation">(</span>6m35.643s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>⚠️记住，一定要为 Linux 分配足够的磁盘空间，否则会编译失败。</strong></p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>同样的，使用 <code>test.py</code> 进行测试：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 测试</span>
<span class="token builtin class-name">cd</span> ns-3.29

<span class="token comment"># 官方给的指令是下面这个：</span>
./test.py --no-build

<span class="token comment"># 上面那个是官方最新的 ns-3.38 的指令，</span>
<span class="token comment"># 不过在 ns-3.29 的版本中，test.py 后面不支持这个参数，使用直接 test 就好</span>
./test.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果没有问题，继续保持耐心等待，会显示如下内容云云：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PASS: TestSuite config
PASS: TestSuite attributes
PASS: TestSuite object
<span class="token punctuation">..</span>.
<span class="token number">614</span> of <span class="token number">624</span> tests passed <span class="token punctuation">(</span><span class="token number">614</span> passed, <span class="token number">10</span> skipped, <span class="token number">0</span> failed, <span class="token number">0</span> crashed, <span class="token number">0</span> valgrind errors<span class="token punctuation">)</span>
List of SKIPped tests:
    examples/routing/simple-routing-ping6.py
    examples/tutorial/first.py
    examples/wireless/mixed-wired-wireless.py
    examples/wireless/wifi-ap.py
    ns3-tcp-cwnd
    ns3-tcp-interoperability
    nsc-tcp-loss
    src/bridge/examples/csma-bridge.py
    src/core/examples/sample-simulator.py
    src/flow-monitor/examples/wifi-olsr-flowmon.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>跳过了 10 个文件，应该也不会有问题吧……</p>
<h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><p>在万事俱备后，我们照例跑一下实例程序：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./ns3 run hello-simulator

<span class="token comment"># 输出</span>
Hello Simulator<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>官方描述得很好，但在 ns-3.29 里不是这样的，得使用在高级版本中已经被淘汰的 <code>waf</code> 才行：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./waf <span class="token parameter variable">--run</span> hello-simulator

<span class="token comment"># 输出：</span>
Waf: Entering directory <span class="token variable"><span class="token variable">`</span>/home/ubuntu/ns-3/workspace/ns-allinone-3.29/ns-3.29/build'
Waf: Leaving directory <span class="token variable">`</span></span>/home/ubuntu/ns-3/workspace/ns-allinone-3.29/ns-3.29/build<span class="token string">'
Build commands will be stored in build/compile_commands.json
'</span>build' finished successfully <span class="token punctuation">(</span><span class="token number">7</span>.094s<span class="token punctuation">)</span>
Hello Simulator<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>就此，我们的安装步骤就完全结束了。很喜欢 ns-3 官网的一句话：</p>
<blockquote>
<p>Congratulations! You are now an ns-3 user!</p>
</blockquote>
<hr>
<h2 id="ns3-gym"><a href="#ns3-gym" class="headerlink" title="ns3-gym"></a>ns3-gym</h2><p><img src="/images/beginner-of-ns-3-and-openai-gym/ns3_gym_web.jpg" alt="ns3_gym_web" loading="lazy"></p>
<p><a target="_blank" rel="noopener" href="https://github.com/tkn-tub/ns3-gym">GitHub 处</a>：<a target="_blank" rel="noopener" href="https://github.com/openai/gym/">https://github.com/openai/gym/</a></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://gym.openai.com/">OpenAI Gym</a> is a toolkit for reinforcement learning (RL) widely used in research. The network simulator <a target="_blank" rel="noopener" href="https://www.nsnam.org/">ns–3</a> is the de-facto standard for academic and industry studies in the areas of networking protocols and communication technologies. ns3-gym is a framework that integrates both OpenAI Gym and ns-3 in order to encourage usage of RL in networking research.</p>
</blockquote>
<p>简单来说，这是一个强化学习工具包，也是我研究路由协议的必备工具，它的框架结构如下图：</p>
<p><img src="/images/beginner-of-ns-3-and-openai-gym/Architecture-of-ns3-gym-framework.png" alt="Architecture-of-ns3-gym-framework" loading="lazy"></p>
<h3 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h3><p>根据<a target="_blank" rel="noopener" href="https://github.com/tkn-tub/ns3-gym#installation/">官方</a>的安装教程：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 首先 cd 到自己的安装环境中，在本机上的环境是：</span>
<span class="token builtin class-name">cd</span> ns-3/workspace/ns-allinone-3.29/ns-3.29

-----

<span class="token comment"># 1. Install all required dependencies required by ns-3.</span>
<span class="token comment"># 1. 安装 ns-3 所需的所有依赖项。</span>
<span class="token comment"># Check ns-3 requirements</span>
<span class="token comment"># 检查 ns-3 要求</span>

<span class="token comment"># minimal requirements for C++:</span>
<span class="token function">apt-get</span> <span class="token function">install</span> gcc g++ python

<span class="token comment"># 注：记得加上sudo 以 root，下同。</span>
<span class="token comment"># 注：另外，python 包现在应该是 python3 了。</span>

-----

<span class="token comment"># 2. Install ZMQ and Protocol Buffers libs:</span>
<span class="token comment"># 2. 安装 ZMQ 和 Protocol Buffers 库：</span>

<span class="token comment"># sudo apt-get update 若已执行，则此处可不再执行</span>
<span class="token function">apt-get</span> <span class="token function">install</span> libzmq5 libzmq3-dev
<span class="token function">apt-get</span> <span class="token function">install</span> libprotobuf-dev
<span class="token function">apt-get</span> <span class="token function">install</span> protobuf-compiler

-----

<span class="token comment"># 3. Clone ns3-gym repository in to contrib directory and change the branch:</span>
<span class="token comment"># 3. 将 ns3-gym 存储库克隆到 contrib 目录并更改分支：</span>

<span class="token builtin class-name">cd</span> ./contrib
<span class="token function">git</span> clone https://github.com/tkn-tub/ns3-gym.git ./opengym
<span class="token builtin class-name">cd</span> opengym/
<span class="token function">git</span> checkout app

<span class="token comment"># It is important to use the `opengym` as the name of the ns3-gym app directory.  </span>
<span class="token comment"># 使用 `opengym` 作为 ns3-gym 应用程序目录的名称很重要。</span>

-----

<span class="token comment"># 4. Configure and build ns-3 project (if you are going to use Python virtual environment,</span>
<span class="token comment">#    please execute these commands inside it):</span>
<span class="token comment"># 4. 配置并构建 ns-3 项目（如果你打算使用 Python 虚拟环境，请在其中执行这些命令）：</span>

<span class="token comment"># 注：此时应该先回到 ./ns-3.29 目录</span>
<span class="token comment"># cd ../..</span>
./waf configure --enable-examples
./waf build

<span class="token comment"># Note: Opengym Protocol Buffer messages (C++ and Python) are build during configure.  </span>
<span class="token comment"># 注意：Opengym 协议缓冲区消息（C++ 和 Python）是在配置期间构建的。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后再次开始编译，输出：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">..</span>.
<span class="token punctuation">[</span><span class="token number">2339</span>/2340<span class="token punctuation">]</span> Compiling src/tap-bridge/model/tap-creator.cc
<span class="token punctuation">[</span><span class="token number">2340</span>/2340<span class="token punctuation">]</span> Linking build/src/tap-bridge/ns3.29-tap-creator-debug
Waf: Leaving directory `/home/ubuntu/ns-3/workspace/ns-allinone-3.29/ns-3.29/build<span class="token string">'
Build commands will be stored in build/compile_commands.json
'</span>build' finished successfully <span class="token punctuation">(</span>5m3.762s<span class="token punctuation">)</span>

Modules built:
antenna                   aodv                      applications              
bridge                    buildings                 config-store              
core                      csma                      csma-layout               
dsdv                      dsr                       energy                    
fd-net-device             flow-monitor              internet                  
internet-apps             lr-wpan                   lte                       
mesh                      mobility                  mpi                       
netanim <span class="token punctuation">(</span>no Python<span class="token punctuation">)</span>       network                   nix-vector-routing        
olsr                      opengym <span class="token punctuation">(</span>no Python<span class="token punctuation">)</span>       point-to-point            
point-to-point-layout     propagation               sixlowpan                 
spectrum                  stats                     tap-bridge                
<span class="token builtin class-name">test</span> <span class="token punctuation">(</span>no Python<span class="token punctuation">)</span>          topology-read             traffic-control           
uan                       virtual-net-device        wave                      
wifi                      wimax                     

Modules not built <span class="token punctuation">(</span>see ns-3 tutorial <span class="token keyword">for</span> explanation<span class="token punctuation">)</span>:
brite                     click                     openflow                  
visualizer                <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="报错·III"><a href="#报错·III" class="headerlink" title="报错·III"></a>报错·III</h3><p>没有问题，我们继续进行后面的步骤：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 注：在下一步之前，请事先安装 pip3，</span>
<span class="token comment"># 如果你像我一样没有安装 pip3，则需要先执行安装命令</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3-pip<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>这里又遇到一个包版本错误：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">The following information may <span class="token builtin class-name">help</span> to resolve the situation:

The following packages have unmet dependencies:
 python3-distutils <span class="token builtin class-name">:</span> Depends: python3-lib2to3 <span class="token punctuation">(</span><span class="token operator">=</span> <span class="token number">3.10</span>.4-0ubuntu1<span class="token punctuation">)</span> but <span class="token number">3.10</span>.6-1~22.04 is to be installed
E: Unable to correct problems, you have held broken packages.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>没关系，参照上文的解决方式，我们安装对应的包即可：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3-lib2to3<span class="token operator">=</span><span class="token number">3.10</span>.4-0ubuntu1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>在安装好 <code>pip3</code> 后，我们继续进行第 5 步骤：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 5. Install ns3gym located in model/ns3gym (Python3 required)  </span>
<span class="token comment"># 5. 安装位于 model/ns3gym 的 ns3gym（需要 Python3）</span>

<span class="token builtin class-name">cd</span> ./contrib/opengym/
pip3 <span class="token function">install</span> <span class="token parameter variable">--user</span> ./model/ns3gym<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>看命令行的反馈，好像还帮我们初始化好了，不过还是有一个路径警告：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">..</span>.
Installing collected packages: gym-notices, pyzmq, numpy, cloudpickle, gym, ns3gym
  WARNING: The scripts f2py, f2py3 and f2py3.10 are installed <span class="token keyword">in</span> <span class="token string">'/home/ubuntu/.local/bin'</span> <span class="token function">which</span> is not on <span class="token environment constant">PATH</span><span class="token builtin class-name">.</span>
  Consider adding this directory to <span class="token environment constant">PATH</span> or, <span class="token keyword">if</span> you prefer to suppress this warning, use --no-warn-script-location.
Successfully installed cloudpickle-2.2.1 gym-0.26.2 gym-notices-0.0.8 ns3gym-0.1.0 numpy-1.24.3 pyzmq-25.0.2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这个警告提示 <code>f2py</code> 等脚本被安装在 <code>/home/ubuntu/.local/bin</code> 目录下，但该目录不在系统的环境变量 <code>PATH</code> 中。因此，如果想要在终端中运行这些脚本，则需要手动添加该目录到 <code>PATH</code> 中，或者将这些脚本复制到在 <code>PATH</code> 中的 <code>/usr/local/bin</code> 目录中。</p>
<p>针对后者，输入以下命令即可复制到目录中：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">cp</span> /home/ubuntu/.local/bin/f2py /usr/local/bin
<span class="token function">sudo</span> <span class="token function">cp</span> /home/ubuntu/.local/bin/f2py3 /usr/local/bin
<span class="token function">sudo</span> <span class="token function">cp</span> /home/ubuntu/.local/bin/f2py3.10 /usr/local/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>后面的安装步骤就比较简单了：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 6. (Optional) Install all libraries required by your agent (like tensorflow, keras, etc.).  </span>
<span class="token comment"># 6. （可选）安装代理所需的所有库（如 tensorflow、keras 等）。</span>

-----

<span class="token comment"># 7. Run example:</span>

<span class="token builtin class-name">cd</span> ./contrib/opengym/examples/opengym/ 
./simple_test.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>测试结果输出：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Got new port <span class="token keyword">for</span> ns3gm interface:  <span class="token number">6927</span>
Observation space:  Box<span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">10</span>, <span class="token punctuation">(</span><span class="token number">5</span>,<span class="token punctuation">)</span>, uint64<span class="token punctuation">)</span> uint64
Action space:  Discrete<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> int64
Step:  <span class="token number">0</span>
---obs:  <span class="token punctuation">[</span><span class="token number">4</span>, <span class="token number">9</span>, <span class="token number">5</span>, <span class="token number">3</span>, <span class="token number">9</span><span class="token punctuation">]</span>
---action:  <span class="token number">1</span>
Step:  <span class="token number">1</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">7</span>, <span class="token number">4</span>, <span class="token number">0</span>, <span class="token number">3</span>, <span class="token number">8</span><span class="token punctuation">]</span> <span class="token number">2.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">4</span>
Step:  <span class="token number">2</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">6</span>, <span class="token number">9</span>, <span class="token number">9</span>, <span class="token number">5</span>, <span class="token number">6</span><span class="token punctuation">]</span> <span class="token number">3.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">2</span>
Step:  <span class="token number">3</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">5</span>, <span class="token number">8</span>, <span class="token number">6</span>, <span class="token number">9</span>, <span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">4.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">3</span>
Step:  <span class="token number">4</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">8</span>, <span class="token number">4</span>, <span class="token number">6</span>, <span class="token number">10</span>, <span class="token number">5</span><span class="token punctuation">]</span> <span class="token number">5.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">0</span>
Step:  <span class="token number">5</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">10</span>, <span class="token number">6</span>, <span class="token number">8</span>, <span class="token number">1</span>, <span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">6.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">0</span>
Step:  <span class="token number">6</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">10</span>, <span class="token number">3</span>, <span class="token number">10</span>, <span class="token number">4</span>, <span class="token number">7</span><span class="token punctuation">]</span> <span class="token number">7.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">1</span>
Step:  <span class="token number">7</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">4</span>, <span class="token number">8</span>, <span class="token number">4</span>, <span class="token number">8</span>, <span class="token number">9</span><span class="token punctuation">]</span> <span class="token number">8.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">0</span>
Step:  <span class="token number">8</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">10</span>, <span class="token number">10</span>, <span class="token number">5</span>, <span class="token number">0</span>, <span class="token number">4</span><span class="token punctuation">]</span> <span class="token number">9.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">2</span>
Step:  <span class="token number">9</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token number">2</span>, <span class="token number">0</span>, <span class="token number">9</span>, <span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">10.0</span> False testInfo<span class="token operator">|</span><span class="token number">123</span>
---action:  <span class="token number">4</span>
Step:  <span class="token number">10</span>
---obs, reward, done, info:  <span class="token punctuation">[</span><span class="token number">5</span>, <span class="token number">5</span>, <span class="token number">4</span>, <span class="token number">9</span>, <span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">11.0</span> True testInfo<span class="token operator">|</span><span class="token number">123</span>
Done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>没有问题，那么下一步呢？</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 8. (Optional) Start ns-3 simulation script and Gym agent separately </span>
<span class="token comment">#    in two terminals (useful for debugging):</span>
<span class="token comment"># 8. （可选）在两个终端分别启动ns-3模拟脚本和Gym agent（对调试有用）：</span>

<span class="token comment"># Terminal 1</span>
<span class="token comment"># 我需要：cd ns-3/workspace/ns-allinone-3.29/ns-3.29</span>
./waf <span class="token parameter variable">--run</span> <span class="token string">"opengym"</span>

<span class="token comment"># Terminal 2</span>
<span class="token builtin class-name">cd</span> ./contrib/opengym/examples/opengym/ 
./test.py <span class="token parameter variable">--start</span><span class="token operator">=</span><span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>运行一点问题也没有！恭喜，现在重要的环境配置均已结束，下面就可以真正开始做我的仿真了。</p>
<hr>
<h2 id="其他遇到的问题"><a href="#其他遇到的问题" class="headerlink" title="其他遇到的问题"></a>其他遇到的问题</h2><p>作为一个 Linux 萌新，我在这个过程中，遇到了许多的问题。</p>
<h3 id="安装方式出现问题"><a href="#安装方式出现问题" class="headerlink" title="安装方式出现问题"></a>安装方式出现问题</h3><p>按照官方的教程，通过 Git 方式下载 ns-3：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">mkdir</span> ns-3
$ <span class="token builtin class-name">cd</span> ns-3

$ <span class="token function">mkdir</span> workspace
$ <span class="token builtin class-name">cd</span> workspace

$ <span class="token function">git</span> clone https://gitlab.com/nsnam/ns-3-allinone.git
$ <span class="token builtin class-name">cd</span> ns-3-allinone

$ python3 download.py
<span class="token comment"># 然后会下载大概 200M 左右的文件</span>
<span class="token comment"># 包括 ns-3，NetAnim 和 bake</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在通过 Git 下载完 ns-3 后，发现官方并没有针对这种情况给出构建方式，称：</p>
<blockquote>
<p><strong>Note:</strong> This build step is only available from a source archive release described above; not from downloading via git or bake.</p>
</blockquote>
<p>试图直接运行构建文件会报错：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ./build.py --enable-examples --enable-tests
<span class="token comment"># Build NetAnim</span>
Entering directory <span class="token variable"><span class="token variable">`</span>netanim'
 <span class="token operator">=</span><span class="token operator">></span>  qmake <span class="token parameter variable">-v</span>
Could not <span class="token function">find</span> qmake <span class="token keyword">in</span> the default path
 <span class="token operator">=</span><span class="token operator">></span>  qmake-qt5 <span class="token parameter variable">-v</span>
Could not <span class="token function">find</span> qmake-qt5 <span class="token keyword">in</span> the default path
 <span class="token operator">=</span><span class="token operator">></span>  qmake-qt4 <span class="token parameter variable">-v</span>
Could not <span class="token function">find</span> qmake-qt4 <span class="token keyword">in</span> the default path
 <span class="token operator">=</span><span class="token operator">></span>  qmake NetAnim.pro
Error building NetAnim. Ensure the path to qmake is correct.
Could not <span class="token function">find</span> qmake or qmake-qt5 <span class="token keyword">in</span> the default <span class="token environment constant">PATH</span><span class="token builtin class-name">.</span>
Use ./build.py --qmake-path <span class="token operator">&lt;</span>Path-to-qmake<span class="token operator">></span>, <span class="token keyword">if</span> qmake is installed <span class="token keyword">in</span> a non-standard location
Note: Some systems use qmake-qt5 instead of qmake
Skipping NetAnim <span class="token punctuation">..</span><span class="token punctuation">..</span>
Leaving directory <span class="token variable">`</span></span>netanim<span class="token string">'
# Building examples (by user request)
# Building tests (by user request)
# Build NS-3
Entering directory `/home/clover/ns-3/workspace/ns-3-allinone/./ns-3-dev'</span>
 <span class="token operator">=</span><span class="token operator">></span>  /usr/bin/python3 ns3 configure --enable-examples --enable-tests
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">"/home/clover/ns-3/workspace/ns-3-allinone/ns-3-dev/ns3"</span>, line <span class="token number">1615</span>, <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"/home/clover/ns-3/workspace/ns-3-allinone/ns-3-dev/ns3"</span>, line <span class="token number">1508</span>, <span class="token keyword">in</span> main
    current_cmake_cache_folder, current_cmake_generator <span class="token operator">=</span> search_cmake_cache<span class="token punctuation">(</span>build_profile<span class="token punctuation">)</span>
  File <span class="token string">"/home/clover/ns-3/workspace/ns-3-allinone/ns-3-dev/ns3"</span>, line <span class="token number">561</span>, <span class="token keyword">in</span> search_cmake_cache
    raise Exception<span class="token punctuation">(</span><span class="token string">"No generator available."</span><span class="token punctuation">)</span>
Exception: No generator available.
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">"/home/clover/ns-3/workspace/ns-3-allinone/./build.py"</span>, line <span class="token number">155</span>, <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    sys.exit<span class="token punctuation">(</span>main<span class="token punctuation">(</span>sys.argv<span class="token punctuation">))</span>
  File <span class="token string">"/home/clover/ns-3/workspace/ns-3-allinone/./build.py"</span>, line <span class="token number">146</span>, <span class="token keyword">in</span> main
    build_ns3<span class="token punctuation">(</span>config, build_examples, build_tests, args, build_options<span class="token punctuation">)</span>
  File <span class="token string">"/home/clover/ns-3/workspace/ns-3-allinone/./build.py"</span>, line <span class="token number">65</span>, <span class="token keyword">in</span> build_ns3
    run_command<span class="token punctuation">(</span>cmd<span class="token punctuation">)</span> <span class="token comment"># ns3 configure ...</span>
  File <span class="token string">"/home/clover/ns-3/workspace/ns-3-allinone/util.py"</span>, line <span class="token number">25</span>, <span class="token keyword">in</span> run_command
    raise CommandError<span class="token punctuation">(</span><span class="token string">"Command %r exited with code %i"</span> % <span class="token punctuation">(</span>argv, retval<span class="token punctuation">))</span>
util.CommandError: Command <span class="token punctuation">[</span><span class="token string">'/usr/bin/python3'</span>, <span class="token string">'ns3'</span>, <span class="token string">'configure'</span>, <span class="token string">'--enable-examples'</span>, <span class="token string">'--enable-tests'</span><span class="token punctuation">]</span> exited with code <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>介于我十分小白，大概能理解到这样直接的方式不容易，可我又不愿意使用 CMake，于是就回档重新开始了。</p>
<h3 id="虚拟机注意事项"><a href="#虚拟机注意事项" class="headerlink" title="虚拟机注意事项"></a>虚拟机注意事项</h3><p>在创建 VMWare 虚拟机时，因为常听说 Linux 非常节省资源，所以就只分配了 20G 的磁盘空间。结果编译到一半中断了，系统提示我<strong>磁盘空间不足</strong>，这时我才知道才刚构建 50% 就已经快要把磁盘空间用完了……</p>
<p>另外，一定要为虚拟机分配<strong>足够的 CPU 核心</strong>，不要像我傻乎乎地只分配了两个小核，然后傻乎乎地等了半天……</p>
<p>所以说，Linux 节约资源根本就是误解，主要是取决于我们要拿它做什么。</p>
<p>另外，相比于分配 16 个处理器、每个处理器一个核心，为 Ubuntu 分配 8 个处理器、每个处理器两个核心更好。根据 Ubuntu 官方的表述，建议减少处理器的数量，因为操作系统或应用程序对多个处理器的利用可能不够高效。</p>
<h3 id="版本注意事项"><a href="#版本注意事项" class="headerlink" title="版本注意事项"></a>版本注意事项</h3><p>从一开始，我的师兄就推荐我用 ns-3.29 版本。不过我年少轻狂，看到官方更推荐新版本，并且官网也只有新版本的安装教程，所以我就被忽悠着安装了 ns-3.38，这让我后来吃足了苦头。</p>
<p>由于我需要安装 ns3-gym，而这个工具一开始就是基于 ns-3.29 构建的。虽然官方提供了高级版本的安装方式，但我这里总是不明不白地报错。比如：</p>
<p>我的 ns3 项目文件夹下没有 waf 文件，这令我有些困惑。在网上查询资料后，发现 ns3 在 3.36 版本就取消了 waf.py 编译器，使用了 ns3.py 替代。而这一步的编译，用的是 CMake。</p>
<p>即使我不断地将错误一一解决，但最终碰到了一个我无法解决、无法查到的问题，我放弃了。</p>
<p>真是血泪教训啊。</p>
<h3 id="Ubuntu-系统问题"><a href="#Ubuntu-系统问题" class="headerlink" title="Ubuntu 系统问题"></a>Ubuntu 系统问题</h3><p><label style="color:red">一定要善用 VMware 的快照功能！</label></p>
<p><img src="/images/beginner-of-ns-3-and-openai-gym/linux_error.jpg" alt="linux_error" loading="lazy"></p>
<p>现在我算是理解为什么基本没人将 Linux 作为日常使用的系统了，这破玩意儿三天两头出问题，一出问题就要重装，而且每次出的问题还不一样！我这一周已经重装了三次系统了！我受不了了，天知道我用 <code>sudo</code> 的时候干掉了什么东西……</p>
<p>有了快照后，我们遇到问题就可以回滚，而不是重装系统了。</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>现在看来，好庆幸当时一边做一边写了笔记：有时环境报错，我需要检查之前的配置；有时某几步需要重新做，我也不用再像第一次一样翻那么多的标签页，就简简单单地回看笔记就好。并且笔记中也记下了当时遇到了问题，使我也能够帮助到有需要的同学，真是太棒了！</p>
<h2 id="其他参考资料："><a href="#其他参考资料：" class="headerlink" title="其他参考资料："></a>其他参考资料：</h2><ul>
<li><strong>首先感谢各官方网站上详尽的文档。</strong></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1vM411x7HW/">Anaconda安装【Linux系统】</a>，<a target="_blank" rel="noopener" href="https://space.bilibili.com/284581928"><strong>小L-Daily</strong></a>，Bilibili。</li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1mz4y1S7eZ/">ns-3 网络模拟中文入门视频教程系列</a>，<a target="_blank" rel="noopener" href="https://space.bilibili.com/488796480/"><strong>开源文摘</strong></a>，Bilibili。</li>
<li><a target="_blank" rel="noopener" href="https://pinvondev.github.io/blog/2018/02/06/ns-3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">ns-3 快速上手</a>，<strong>Pinvon’s Blog</strong>。</li>
<li><strong>感谢 stackoverflow 上的世界友人们给予我的大力支持（</strong></li>
<li><strong>感谢我实验室的好兄弟 Monkey L 和 Boss G 给我的许多帮助</strong></li>
<li><strong>最后，感谢 OpenAI 公司开发的 ChatGPT 为我的 Linux 实践释惑</strong><br>我真是太感动了，在最后我跟 ChatGPT 说：「好的，多谢！」，它回答我说：「不客气！如果你还有其他问题，随时都可以问我。祝你配置和构建顺利，顺利使用 ns-3 和 openai-gym！」</li>
</ul>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>叶子</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://mskclover.com/2023/04/24/beginner-of-ns-3-and-openai-gym/" title="【笔记】ns-3 与 openai-gym 初入门">https://mskclover.com/2023/04/24/beginner-of-ns-3-and-openai-gym/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2023/04/30/2023-04-Week-17/" rel="prev" title="【周记】2023-17：本周无事·II"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">【周记】2023-17：本周无事·II</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2023/04/23/2023-04-Week-16/" rel="next" title="【周记】2023-16：充实的线上与贫瘠的线下生活"><span class="post-nav-text">【周记】2023-16：充实的线上与贫瘠的线下生活</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>如果您有任何关于博客内容的相关讨论，欢迎前往 <a href="https://github.com/misaka-clover/misaka-clover.github.io/discussions" target="_blank">GitHub Discussions</a> 与我交流。</span><br></div><style>.utterances {
  max-width: 100%;
}</style><script src="https://giscus.app/client.js" data-repo="misaka-clover/misaka-clover.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyODk0NzI1MzM=" data-category="Announcements" data-category-id="DIC_kwDOEUEAFc4CU_3i" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-theme="preffered color scheme" crossorigin="anonymous" async></script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2020 – 2025 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> 叶子</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v7.2.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.11</span></div><div class="live-time"><span>本花园已长草</span><span id="display_live_time"></span><span class="moe-text">（¯﹃¯）</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2020-08-22T19:25:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} 天 ${passHour} 小时 ${passMinute} 分 ${passSecond} 秒`;
}
blog_live_time();
</script></div><div class="footer-custom-text">博客版本：Version.2.3.1 |  <a href="https://icp.gov.moe/?keyword=20232952" target="_blank" style="color:inherit"><img src="/images/moeicp.png" width="25" style="vertical-align:middle">萌ICP备 </a><a href="https://icp.gov.moe/?keyword=20232952" target="_blank" style="color:inherit"> 20232952 号</a> </div><div class="footer-support"><span>由好人一生平安的</span><a class="footer-support-logo" href="https://www.cloudflare.com/" target="blank" title="Cloudflare"><img height="30" src="/images/CF_logo_stacked_blktype.svg" alt="Cloudflare"></a><span>提供免费的 CDN 加速</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" target="_blank" rel="noopener" href="https://www.google.com/search?q=site:mskclover.com" title="搜索"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18","6-4"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>