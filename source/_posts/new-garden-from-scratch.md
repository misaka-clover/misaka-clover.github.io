---
title: ä»é›¶å¼€å§‹å»ºç«‹èŠ±å›­
date: 2024-05-26 21:58:34
#updated: 2023-03-26 16:16:34
description: å¸Œæœ›ä»¥åèƒ½å¤šå†™ä¸€ç‚¹åšæ–‡
tags: 
    - åšæ–‡
    - åšå®¢
    - Hexo
    - Git
categories: å¶å­çš„å°çŸ¥è¯†
comment: true
# keywords:
# sticky: 100

# hide: true/index
# author: å¶å­
# email: clover@mskclover.com
hideTime: false
readmore: false
# ermaid: true
---

![cover](/images/new-garden-from-scratch/cover.jpg)

## å‰è¨€

è‡ªä»ä»Šå¹´åˆæ¢äº† MacBook ç”µè„‘ä»¥æ¥ï¼Œæˆ‘æ¯æ¬¡å†™çš„ä¸œè¥¿éƒ½è¦ç”¨ç£ç¢Ÿæ‹·è´åˆ°åŸæ¥çš„ PC ä¸Šæ‰èƒ½å‘å¸ƒï¼Œæ‰€ä»¥ä¸€ç›´éƒ½æƒ³è¦å°†åŸæ¥çš„åšå®¢æœ¬åœ°æ–‡ä»¶è¿ç§»åˆ°è¿™å°æ–°çš„ç”µè„‘ä¸Šã€‚æœ€è¿‘å·¥ä½œä¸Šçš„äº‹å‘Šä¸€æ®µè½ï¼Œæˆ‘æ€»ç®—æ˜¯è€ƒå®Œæ‰§ç…§äº†ã€‚ä¾ç…§æˆ‘ä»¥å‰çš„ç»éªŒæ¥çœ‹ï¼Œæ¯æ¬¡ä»¥ä¸ºæœªæ¥ä¼šæ›´æœ‰æ—¶é—´çš„æ—¶å€™ï¼Œæœªæ¥éƒ½ä¼šå¿™å¾—è¦å‘½ï¼Œæ‰€ä»¥å°±è¶ç€ç°åœ¨æœ‰ç©ºæŠŠè¿™ä»¶äº‹åšå®Œå§ã€‚

<!-- more -->

è¿ç§»æ–‡ä»¶å…¶å®ä¹Ÿä¸éš¾ï¼Œä¸»è¦æ˜¯å¾ˆç¹çã€‚ä¸ºäº†ä¿è¯ç¨³å®šæ€§ï¼Œæˆ‘é€‰æ‹©å°†æ‰€æœ‰çš„æ­¥éª¤éƒ½é‡æ–°åšä¸€éã€‚è¿™æ¬¡å°±è®°å½•ä¸€ä¸‹ï¼Œä»¥åå†æœ‰è¿ç§»çš„æ—¶å€™ï¼Œå°±å¯ä»¥æŒ‰ç…§ç°åœ¨çš„ç»éªŒï¼ŒçŸ¥é“è¦å®‰è£…é‚£äº›ç»„ä»¶ã€æ›´æ”¹å“ªäº›é…ç½®äº†ã€‚

è¿˜æ˜¯ä¸å››å¹´å‰ä¸€æ ·ï¼Œå®‰è£…æ­¥éª¤ä¸»è¦æ˜¯åŸºäº [**äº‘æ¸¸å‰è¾ˆ**](https://www.yunyoujun.cn/) çš„è¿™ç¯‡æ–‡ç« ï¼š[æ•™ä½ å¦‚ä½•ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™](https://www.yunyoujun.cn/posts/how-to-build-your-site/)ï¼Œè¿˜æœ‰ç½‘ç«™ä¸»é¢˜çš„[å‚è€ƒæ–‡æ¡£](https://yun.yunyoujun.cn/)ï¼Œå¦å¤–åŒ…å«äº†ä¸€äº›é‡åˆ°çš„æ–°é—®é¢˜ï¼Œå¸Œæœ›èƒ½å¯¹ä»¥åçš„æˆ‘ã€è¿˜æœ‰è§‚çœ‹è¿™ç¯‡åšæ–‡çš„æœ‹å‹æœ‰å¸®åŠ©ã€‚

## è¿ç§»/é‡æ–°å®‰è£…æ­¥éª¤

å°±åƒä¸Šé¢è¯´çš„ä¸€æ ·ï¼Œä¸å…¶è¯´æ˜¯è¿ç§»ï¼Œä¸å¦‚è¯´æ˜¯é‡æ–°å®‰è£…ã€‚

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**

- å¦‚æœé‡åˆ° æƒé™ä¸è¶³/Authentication ç›¸å…³çš„æŠ¥é”™ï¼Œéœ€è¦å°è¯• `su` æˆ–è€… `sudo` å¹¶è¾“å…¥å¯†ç ï¼Œä»¥ç®¡ç†å‘˜æƒé™é‡æ–°æ‰§è¡Œã€‚
- ç”±äºä¸­å›½å¤§é™†çš„é˜²ç«é•¿åŸç›®å‰å·²ç»é˜»æ­¢è®¸å¤šçš„ç«™ç‚¹ï¼Œè¿‘æ—¥åˆå±è”½äº†åŒ…æ‹¬ä¸Šæµ·äº¤å¤§åœ¨å†…çš„å¤šæ‰€å¤§å­¦é•œåƒç«™ç‚¹ï¼Œå› æ­¤è¯·ç¡®è®¤ç½‘ç»œç¯å¢ƒæ˜¯å¦æ”¯æŒã€‚

{% blockquote â€”â€”æè€å¸ˆä¸æ˜¯ä½ è€å¸ˆï¼ˆ@whyyoutouzheleï¼‰ https://twitter.com/whyyoutouzhele/status/1798731317322133642 %}
6 æœˆ 6 æ—¥ï¼Œä¸Šæµ·äº¤å¤§çš„ Docker Hub é•œåƒåŠ é€Ÿå™¨å®£å¸ƒå› ç›‘ç®¡è¦æ±‚è¢«ä¸‹æ¶ã€‚
Docker Hub æ˜¯ç›®å‰æœ€å¤§çš„å®¹å™¨é•œåƒç¤¾åŒºï¼Œä½†ç”±äºä¸­å›½é˜²ç«é•¿åŸçš„é™åˆ¶ï¼Œç¨‹åºå‘˜å¼€å‘è€…ä» Docker Hub ä¸Šè·å–å®¹å™¨é•œåƒçš„æ—¶å€™å¾ˆä¸æ–¹ä¾¿ã€‚Docker Hub é•œåƒåŠ é€Ÿå™¨å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å¿«åœ°ä¸‹è½½ Docker é•œåƒã€‚
<img src="/images/new-garden-from-scratch/post.jpg" width="500" alt="post" />
{% endblockquote %}

### å®‰è£… Node.js

åœ¨å…¶å®˜ç½‘ä¸‹è½½ **Node.js** çš„ [é•¿æœŸå‘è¡Œç‰ˆ LTS](https://nodejs.org/zh-cn/)ï¼Œå¹¶å…¨éƒ¨é»˜è®¤ä¸‹ä¸€æ­¥å®‰è£…ã€‚è¿‡ç¨‹ä¸­ä¼šé»˜è®¤å®‰è£… `npm` åŒ…ç®¡ç†å™¨ï¼Œå›½å†…è®¿é—®ä¼šæ¯”è¾ƒå›°éš¾ï¼Œå› æ­¤éœ€è¦æ¢æºæˆ–è€…ä½¿ç”¨ç½‘ç»œä»£ç†ã€‚

å®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯å†…ä½¿ç”¨ `node --version` æŸ¥çœ‹ç‰ˆæœ¬ï¼Œä»¥ç¡®è®¤å®‰è£…æˆåŠŸã€‚

```bash
% node --version 
v20.15.0
```

### å®‰è£… VS Code

**Visual Studio Code**ï¼Œåœ¨æ­¤ [ä¸‹è½½](https://code.visualstudio.com/)ã€‚

### å®‰è£… Git

> Git is a [free and open source](https://git-scm.com/about/free-and-open-source) distributed version control system designed to handle everything from small to very large projects with speed and efficiency.      
>
> Git is [easy to learn](https://git-scm.com/doc) and has a [tiny footprint with lightning fast performance](https://git-scm.com/about/small-and-fast). It outclasses SCM tools like Subversion, CVS, Perforce, and ClearCase with features like [cheap local branching](https://git-scm.com/about/branching-and-merging), convenient [staging areas](https://git-scm.com/about/staging-area), and [multiple workflows](https://git-scm.com/about/distributed).      

**Git**ï¼Œåœ¨æ­¤[ä¸‹è½½](https://git-scm.com/)ã€‚

ä¸ Windows ä¸åŒï¼Œåœ¨ Mac ä¸Šæ— æ³•ç›´æ¥é€šè¿‡å®‰è£…åŒ…çš„æ–¹å¼è·å– Gitã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å…ˆå®‰è£… [**Homebrew**](https://brew.sh/)ï¼Œä¸€ä¸ªä¸“ä¸º macOS/Linux æ‰“é€ çš„åŒ…ç®¡ç†å™¨ã€‚Mac ç”¨æˆ·å¯ä»¥æ— éœ€åœ¨å‘½ä»¤è¡Œä¸­å®‰è£…ï¼Œ[ç‚¹æ­¤](https://github.com/Homebrew/brew/releases/latest/)å³å¯ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ **Homebrew**ã€‚

æ­¤æ—¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ `brew` æŒ‡ä»¤ä¼šæŠ¥é”™ï¼š

```bash
% brew install git                                                                               
zsh: command not found: brew
```

è¿™æ˜¯[å› ä¸º](https://stackoverflow.com/questions/36657321/after-installing-homebrew-i-get-zsh-command-not-found-brew/)æˆ‘ä»¬æ²¡æœ‰å°† `/opt/homebrew/bin` å’Œ `/opt/homebrew/sbin` æ·»åŠ åˆ° `$PATH` ç¯å¢ƒä¸­ï¼Œè¿è¡Œå‘½ä»¤ä»¥å¿«é€Ÿæ·»åŠ ï¼š

```bash
% echo export PATH=$PATH:/opt/homebrew/bin:/opt/homebrew/sbin >> ~/.zshrc
% brew doctor
# run this to check it
```

æ¥ç€è¾“å…¥å‘½ä»¤å®‰è£…ï¼š

```bash
% brew install git
```

æŒ‰ Enter ç¡®è®¤ï¼Œåœ¨ã€Œè®¾ç½®â€”é€šç”¨â€”è½¯ä»¶æ›´æ–°ã€ä¸­ä¸‹è½½ XCode çš„ç›¸å…³ç»„ä»¶ã€‚ç„¶åæŸ¥è¯¢å…¶ç‰ˆæœ¬ï¼Œä»¥ç¡®è®¤å®‰è£…æˆåŠŸï¼š

```bash
% git -v
git version 2.45.2 (Apple Git-146)
```

### å®‰è£… Hexo

è¿™æ˜¯æˆ‘ç›®å‰ä½¿ç”¨çš„åšå®¢æ¡†æ¶ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤**å…¨å±€**å®‰è£…ï¼š

```bash
% npm install hexo-cli -g
# å¦‚æœå®‰è£…å¤±è´¥ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰æƒé™ï¼Œå¯ä»¥å°è¯•å¤´éƒ¨åŠ ä¸Š sudo é‡æ–°æ‰§è¡Œ
# sudo npm install hexo-cli -g
```

ç„¶åç»ˆç«¯è®¿é—®åˆ°æˆ‘ä»¬æ‰“ç®—åˆ›å»ºæœ¬åœ°æ–‡ä»¶çš„ç›®å½•ä¸‹ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨çš„ç›®å½•æ˜¯ï¼š`/Users/clover/github/misaka-clover.github.io`ã€‚

```bash
% cd /Users/clover/github
% hexo init misaka-clover.github.io 
```

åœ¨ä½¿ç”¨ **Hexo** åˆå§‹åŒ–è¯¥æ–‡ä»¶å¤¹åï¼Œè¾“å…¥ï¼š

```bash
# è¿›å…¥ä½ çš„åšå®¢æ–‡ä»¶å¤¹
% cd misaka-clover.github.io
# é»˜è®¤å®‰è£…æ‰€æœ‰ `package.json` æ–‡ä»¶ä¸­æåˆ°çš„åŒ…
% npm install
# ä½ ä¹Ÿå¯ä»¥ç¼©å†™æˆ hexo s
% hexo server
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š`localhost:4000`ï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªé»˜è®¤çš„ Hexo ä¸»é¡µäº†ã€‚

### å®‰è£… yun ä¸»é¢˜

æ¥ä¸‹æ¥å®‰è£…**äº‘æ¸¸å‰è¾ˆ**åˆ¶ä½œçš„ä¸»é¢˜ [hexo-theme-yun](https://github.com/YunYouJun/hexo-theme-yun/)ï¼š

```bash
% npm i hexo-theme-yun
```

åœ¨ Hexo çš„åŸå§‹é…ç½®æ–‡ä»¶ `_config.yml` ä¸­æ‰¾åˆ° `theme` è¿™ä¸ªå­—æ®µï¼Œå°†å…¶åçš„ `landscape` ä¿®æ”¹ä¸º `yun`ã€‚

```yaml
theme: yun
```

è¿™æ—¶æ‰“å¼€æœ¬åœ°é¢„è§ˆç•Œé¢ï¼Œå‘ç°æ˜¾ç¤ºçš„é¡µé¢æ— æ¯”è‹ç™½ï¼ˆ

![add-hexo-render](/images/new-garden-from-scratch/add-hexo-render.jpg)

è¿™æ˜¯å› ä¸ºï¼Œç”±äºäº‘æ¸¸å‰è¾ˆçš„ä¸»é¢˜ä½¿ç”¨äº† pug å’Œ stylus è¿™ä¸¤ä¸ªåŒ…ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å®‰è£…ï¼š

```bash
% npm install hexo-render-pug hexo-renderer-stylus
```

#### åŒ… pug å’Œ stylus çš„æ³¨æ„äº‹é¡¹

ä¸è¿‡åœ¨å®‰è£…å®Œä»¥åï¼Œå´å‘ç”Ÿé‡è¦çš„å®‰å…¨æç¤ºï¼š

```bash
3 high severity vulnerabilities

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
```

è¿è¡Œ `npm audit` åï¼Œæç¤ºï¼š



```bash
% npm audit
# npm audit report

pug  <=3.0.2
Severity: high
Remote code execution via the `pretty` option. - https://github.com/advisories/GHSA-p493-635q-r6gr
Pug allows JavaScript code execution if an application accepts untrusted input - https://github.com/advisories/GHSA-3965-hpx2-q597
Depends on vulnerable versions of pug-code-gen
No fix available
node_modules/hexo-render-pug/node_modules/pug
node_modules/pug
  hexo-render-pug  *
  Depends on vulnerable versions of pug
  node_modules/hexo-render-pug

pug-code-gen  <=2.0.3
Severity: high
Pug allows JavaScript code execution if an application accepts untrusted input - https://github.com/advisories/GHSA-3965-hpx2-q597
No fix available
node_modules/hexo-render-pug/node_modules/pug-code-gen

3 high severity vulnerabilities

Some issues need review, and may require choosing
a different dependency.
sh-3.2# 

```

åŸæ¥æ˜¯è¿™ä¸¤ä¸ªåŒ…è¢«å‘ç°æœ‰è‡´å‘½æ¼æ´ï¼Œå°†ä½¿å¾—å®¢æˆ·ç«¯è¢«è¿œç¨‹æ“çºµï¼Œå…¶ Report åœ¨æ­¤ï¼š

- [Remote code execution via the `pretty` option.](https://github.com/advisories/GHSA-p493-635q-r6gr/)ï¼›
- [Pug allows JavaScript code execution if an application accepts untrusted input](https://github.com/advisories/GHSA-3965-hpx2-q597/)ï¼›

å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°è¿™ä¸¤ä¸ªåŒ…è‡³æœ€æ–°ç‰ˆæœ¬ï¼š

```bash
% npm install pug@3.0.3
% npm install pug-code-gen@3.0.3
```

æˆ–

```bash
% npm install pug@latest
% npm install pug-code-gen@latest
```

#### åŒ… core-js çš„æ³¨æ„äº‹é¡¹

å¦å¤–ï¼Œæˆ‘è¿˜é‡åˆ°äº† core-js çš„è­¦å‘Šï¼š

> **npm** warn deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.

æ ¹æ®[è¿™ç¯‡è´´å­](https://stackoverflow.com/questions/73108853/npm-warn-deprecated-core-js2-6-12/)ï¼Œå¼ºåˆ¶æ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬å³å¯ï¼š

```bash
% npm cache clean --force
% npm i -D core-js@latest
```

## è‡ªå®šä¹‰ä¸»é¢˜é…ç½®

ä¸ºäº†**ä¸ç›´æ¥ä¿®æ”¹ä¸»é¢˜çš„é»˜è®¤é…ç½®**ï¼Œæœ€å¥½çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åœ¨åšå®¢æ ¹ç›®å½•ä¸‹ï¼ˆä¸æ˜¯ä¸»é¢˜ç›®å½•ï¼‰æ–°å»º `_config.yun.yml`ã€‚æˆ‘ç›´æ¥å°†åŸæ¥çš„é…ç½®æ‹·è´è¿‡æ¥ï¼Œè¦†ç›–äº†ç°æœ‰çš„é…ç½®æ–‡ä»¶ï¼Œç»“æœåœ¨è¿è¡Œæ—¶ç›´æ¥æŠ¥é”™ã€‚æˆ‘æ–™æƒ³åº”è¯¥æ˜¯ä¸€äº›ç¬¬ä¸‰æ–¹ç»„ä»¶æ²¡æœ‰å®‰è£…ï¼Œå´åœ¨é…ç½®ä¸­è°ƒç”¨äº†å®ƒä»¬ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¸å¾—ä¸é€ä¸ªæ£€æŸ¥é…ç½®é¡¹â€¦â€¦

æ¥ä¸‹æ¥ï¼Œæˆ‘ä¾ç…§ä¸»é¢˜çš„[é…ç½®æ–‡æ¡£](https://yun.yunyoujun.cn/)æ£€æŸ¥å‚æ•°ï¼Œæ²¡æœ‰ä»€ä¹ˆéœ€è¦ä¿®æ”¹çš„ã€‚

## å®‰è£…ç¬¬ä¸‰æ–¹åŒ…åŠé¢å¤–ä¾èµ–

æœ‰ä¸€äº›åŠŸèƒ½ç»„ä»¶å·²ç»å†…ç½®åˆ°ä¸»é¢˜æ–‡ä»¶ä¸­äº†ï¼Œæ¯”å¦‚ **Giscus** è¯„è®ºç³»ç»Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾å®šå¥½å‚æ•°å°±å¯ä»¥äº†ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€äº›åŠŸèƒ½å¹¶æ²¡æœ‰å†…ç½®å…¶ä¸­ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨å®‰è£…ã€‚

### å®‰è£… RSS æ”¯æŒ

åœ¨ç»ˆç«¯ä¸­æ•²å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œå®‰è£… [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed/)ï¼š

```bash
% npm install hexo-generator-feed --save
```

å¦å¤–è¿˜éœ€è¦ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ä»€ä¹ˆçš„ï¼Œè¯¦æƒ…è¯·å‚è§[å®˜æ–¹æ–‡æ¡£](https://github.com/hexojs/hexo-generator-feed/)ã€‚

### å®‰è£… è¯äº‘ wordcount ç»„ä»¶

```bash
% npm install hexo-wordcount
```

### å®‰è£… Hexo çš„ Git æ¨é€ç»„ä»¶

æ­¤æ—¶ï¼Œå¦‚æœæƒ³è¦ç›´æ¥éƒ¨ç½²åˆ° GitHub Pages ä¸Šï¼Œä¼šå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼š

```bash
% hexo d
INFO  Validating config
INFO  Yun version 1.10.11. Guide: https://yun.yunyoujun.cn
ERROR Deployer not found: git
```

æ ¹æ®è¿™ç¯‡[åšæ–‡](https://theriseofdavid.github.io/2020/07/11/blog/hexo-d-g-error-to-deployer-not-found/)ï¼Œè¿™æ˜¯å› ä¸º ç¼ºå°‘/æˆ‘å¿˜è®°å®‰è£… `hexo-deployer-git` å¥—ä»¶ï¼Œåœ¨å½“å‰ç›®å½•å®‰è£…å¥—ä»¶å³å¯ï¼š

```bash
npm install hexo-deployer-git --save
```

## æ¨é€é—®é¢˜

å¥½äº†ï¼Œç°åœ¨å†æ¬¡æ‰§è¡Œ `hexo d` æŒ‡ä»¤ï¼Œå´å‘ç°æœ‰ GitHub çš„æƒé™é—®é¢˜ï¼š

```bash
remote: Support for password authentication was removed on August 13, 2021.
remote: Please see https://docs.github.com/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.
fatal: Authentication failed for 'https://github.com/misaka-clover/misaka-clover.github.io/'
FATAL Something's wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html
Error: Spawn failed
    at ChildProcess.<anonymous> (/Users/clover/github/misaka-clover.github.io/node_modules/hexo-deployer-git/node_modules/hexo-util/lib/spawn.js:51:21)
    at ChildProcess.emit (node:events:519:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)
```

æ ¹æ®è¿™ç¯‡[è´´å­](https://stackoverflow.com/questions/68775869/message-support-for-password-authentication-was-removed/)ï¼Œè¿™æ˜¯å› ä¸º GitHub åœ¨äº‘æ¸¸å‰è¾ˆå‘å¸ƒé‚£ç¯‡åšæ–‡ä»¥åï¼ŒGitHub æ›´æ”¹äº†å‘½ä»¤è¡Œè®¤è¯çš„æ–¹å¼ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å» GitHub çš„åå°[ç”Ÿæˆ](https://github.com/settings/tokens/)ä¸€ä¸ªéªŒè¯ç ï¼Œåœ¨è¿™é‡Œå½“ä½œå¯†ç è¾“å…¥æ‰è¡Œã€‚

### 2025-01-31 æ›´æ–°

æ„Ÿè°¢ [**Skyone**](https://www.skyone.host/) çš„ç•™è¨€ï¼Œåœ¨å¾—åˆ°å…è®¸ä»¥åï¼Œæ‘˜å½•å¦‚ä¸‹ï¼š

> æ–‡ä¸­æåˆ°çš„â€œæ¨é€é—®é¢˜â€ï¼Œgitå¸¸ç”¨çš„æœ‰ä¸¤ç§åè®®ï¼šhttpsåè®®å’Œsshåè®®ã€‚
> 
> httpsåè®®ä½¿ç”¨ ç”¨æˆ·å+token éªŒè¯ï¼Œè€Œsshä½¿ç”¨å…¬é’¥éªŒè¯ã€‚å»ºè®®ä½ é€šè¿‡æ·»åŠ å…¬é’¥çš„æ–¹å¼pushæäº¤ã€‚
> 
> å…·ä½“æ–¹æ³•æ˜¯ï¼Œå…ˆæŸ¥çœ‹è¿œç¨‹ï¼š
> 
> `git remote -v`
> 
> ä¸€èˆ¬æ¥è¯´ï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªå« origin çš„ç±»ä¼¼ https://github.com/name/repo.git çš„é“¾æ¥ï¼ŒæŠŠå®ƒæ”¹æˆ git@github.com:name/repo.git
> 
> `git remote remove origin`
> `git remote add origin git@github.com:name/repo.git`
> 
> ç”Ÿæˆsshå¯†é’¥å¯¹ï¼ˆæˆ‘è®°å¾—macosè‡ªå¸¦sshï¼‰
> 
> `ssh-keygen -t ed25519`
> 
> æŒ‰å‡ æ¬¡å›è½¦å°±è¡Œï¼Œå…¬é’¥åœ¨ `~/.ssh/id_ed25519.pub` æ·»åŠ åˆ° github
> 
> æ­¤å¤–ï¼Œæ¨é€åº”è¯¥ä½¿ç”¨
> 
> `git push origin master # å³ remote åç§°å’Œåˆ†æ”¯åç§°`

## ä»£ç é«˜äº®é—®é¢˜

æˆ‘æ£€æŸ¥å®Œé…ç½®æ–‡ä»¶ä»¥åï¼Œå‘ç°ä»£ç é«˜äº®å¤±æ•ˆäº†ã€‚æˆ‘ä»¥ä¸ºæ˜¯å› ä¸º Hexo å‡çº§åˆ°é«˜ç‰ˆæœ¬çš„é—®é¢˜ï¼Œå»æŸ¥äº†ä¸€ä¸‹[å®˜æ–¹æ–‡æ¡£](https://hexo.io/zh-cn/docs/syntax-highlight#PrismJS/)ï¼Œå‘ç°å®˜æ–¹ç”¨äº†ä¸€ä¸ªæ›´æ–°çš„é«˜äº®ç»„ä»¶ï¼Œå¹¶å°†å…¶å‚æ•°é…ç½®åˆ° `_config.yml` ä¸­äº†ã€‚

```yaml
# ä»£ç é«˜äº®
# åªèƒ½åœ¨ _config.yml ä¸­èµ·ä½œç”¨
syntax_highlighter: prismjs
highlight:
  auto_detect: false
  line_number: true
  line_threshold: 0
  tab_replace: ""
  exclude_languages:
    - example
  wrap: true
  hljs: false
prismjs:
  preprocess: true
  line_number: true
  line_threshold: 0
  tab_replace: ""
```

## åµŒå…¥ Twitter è´´å­é—®é¢˜

æˆ‘æƒ³åœ¨æœ¬æ–‡åµŒå…¥ä¸€ä¸ªæ¨ç‰¹çš„è´´å­ï¼ŒåŠ å…¥ [**Twitter Publish**](https://publish.twitter.com/) ä¸Šå¤åˆ¶çš„é“¾æ¥ï¼Œå±…ç„¶æ— æ³•å˜æˆé¢„è§ˆçš„æ ·å­ï¼Œæ‰€ä»¥åªå¥½ä½¿ç”¨ Hexo è‡ªå¸¦çš„ã€Œ[æ ‡ç­¾æ’ä»¶](https://hexo.io/zh-cn/docs/tag-plugins/)ã€åŠŸèƒ½ã€‚

## æœ¬åœ°æ–‡ä»¶ Git å¤‡ä»½é—®é¢˜

åœ¨ä¾ç…§äº‘æ¸¸å›çš„æ•™ç¨‹æ—¶ï¼Œæˆ‘æƒ³è¦å°†æœ¬åœ°æ–‡ä»¶é€šè¿‡ Git æ¨é€åˆ° GitHub ä¸Šï¼Œçªç„¶æƒ³èµ·æˆ‘å¥½åƒæ²¡æœ‰é…ç½®æœ¬åœ°çš„ Gitï¼Œæ‰€ä»¥å°±ï¼š

```bash
# ä¸è¿œç¨‹ Git ä»“åº“å»ºç«‹è¿æ¥ï¼Œåªæ­¤ä¸€æ¬¡å³å¯
git remote add origin https://github.com/misaka-clover/misaka-clover.github.io
```

ç„¶åï¼Œæˆ‘å°†æ–‡ä»¶æ¨é€åˆ°ç¼“å†²åŒºï¼š

```bash
# æ·»åŠ åˆ°ç¼“å­˜åŒº
git add -A
git commit -m "è¿™æ¬¡åšäº†ä»€ä¹ˆæ›´æ”¹ï¼Œç®€å•æè¿°ä¸‹å³å¯"
```

ä½†æ˜¯ï¼Œåœ¨æ¨é€çš„æ—¶å€™ï¼Œå´é‡åˆ°äº†é—®é¢˜ï¼š

```bash
# æ¨é€è‡³è¿œç¨‹ä»“åº“
$ git push
# ç¬¬ä¸€æ¬¡æäº¤ï¼Œä½ å¯èƒ½éœ€è®¾ç½®ä¸€ä¸‹é»˜è®¤æäº¤åˆ†æ”¯
# git push --set-upstream origin hexo

# æŠ¥é”™
error: src refspec hexo does not match any
error: failed to push some refs to 'https://github.com/misaka-clover/misaka-clover.github.io'
```

æˆ‘æŸ¥è¯¢äº†ä¸€äº›[èµ„æ–™](https://sentry.io/answers/git-src-refspec-master-does-not-match-any-error-message/)å’Œ[è®ºå›](https://stackoverflow.com/questions/4181861/message-src-refspec-master-does-not-match-any-when-pushing-commits-in-git/)ï¼Œå‘ç°æ˜¯æˆ‘çš„**è¿™å°æ–°ç”µè„‘æœ¬åœ°å¹¶æ²¡æœ‰æˆ‘æ–°åˆ†æ”¯çš„æ–‡ä»¶**ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œä¸€ä¸ªä» GitHub ä¸Šå°†åˆ†æ”¯æ–‡ä»¶åŒæ­¥åˆ°æœ¬åœ°ï¼Œä½†å®é™…ä¸Šæˆ‘åˆ é™¤äº†åŸæ¥çš„é‚£ä¸ªåˆ†æ”¯ï¼Œç„¶åé‡æ–°åˆ›å»ºäº†ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„ã€‚å› æ­¤ï¼Œæ‰§è¡Œï¼š

```bash
# åˆå§‹åŒ– git
$ git init
Reinitialized existing Git repository in /Users/clover/github/misaka-clover.github.io/.git/

# æŸ¥è¯¢ git ä¸‹æœ‰å“ªäº›åˆ†æ”¯
$ git branch -a
* master

# åˆ›å»ºåˆ†æ”¯ hexo
$ git checkout -b hexo
Switched to a new branch 'hexo'
```

ç„¶åå†æ¨é€ï¼Œå°±ä¸€åˆ‡æ­£å¸¸äº†ï¼š

```bash
$ git add -A

$ git commit -m"transfer my local blog files to new macbook"
On branch hexo
nothing to commit, working tree clean

$ git push --set-upstream origin hexo
Username for 'https://github.com':
Password for 'https://misaka-clover@github.com':
failed to store: -60006
Enumerating objects: 14802, done.
Counting objects: 100% (14802/14802), done.
Delta compression using up to 8 threads
Compressing objects: 100% (10836/10836), done.
Writing objects: 100% (14802/14802), 48.70 MiB | 1.38 MiB/s, done.
Total 14802 (delta 3264), reused 14799 (delta 3262), pack-reused 0 (from 0)
remote: Resolving deltas: 100% (3264/3264), done.
remote: 
remote: Create a pull request for 'hexo' on GitHub by visiting:
remote:      https://github.com/misaka-clover/misaka-clover.github.io/pull/new/hexo
remote: 
To https://github.com/misaka-clover/misaka-clover.github.io
 * [new branch]      hexo -> hexo
branch 'hexo' set up to track 'origin/hexo'.
```

ç„¶åï¼Œå°±å¤§åŠŸå‘Šæˆå•¦ã€‚

## macOS çš„ç»ˆç«¯æ˜¾ç¤ºè‹±æ–‡

å‚ç…§æœ‰å…³[æ–‡ç« ](https://www.vvave.net/archives/chinese-shell-terminal-change-to-english.html/)çš„è§£å†³æ–¹æ³•ï¼š

```bash
# æŸ¥çœ‹æœ¬åœ°é…ç½®
$ locale
LANG=""
LC_COLLATE="C"
LC_CTYPE="UTF-8"
LC_MESSAGES="C"
LC_MONETARY="C"
LC_NUMERIC="C"
LC_TIME="C"
LC_ALL=

# ç”Ÿæ•ˆæ–°çš„é…ç½®
$ export LANG=en_US.UTF-8
```

## æ–°å­¦åˆ°çš„ git çŸ¥è¯†

ä½ çŸ¥é“çš„ï¼Œæˆ‘åœ¨è®¡ç®—æœºç¨‹åºé¢†åŸŸå¹¶æ²¡æœ‰å¤šä¹ˆæ·±å…¥çš„äº†è§£ï¼Œåƒæ˜¯ä½¿ç”¨ Gitï¼Œæˆ‘åªä¼šä»¥ä¸Šçš„é‚£å‡ ä¸ªç®€å•çš„å‘½ä»¤ã€‚è€Œåœ¨å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘æ²¡åŠæ³•å»è§£å†³é‡åˆ°çš„é—®é¢˜ï¼Œåªå¥½åœ¨ç½‘ä¸Šæœç´¢ï¼Œæ¯”å¦‚[è¿™ä¸ª](https://www.cyberciti.biz/faq/linux-unix-exit-vim-editor/)ã€[è¿™ä¸ª](https://www.hokang.info/git-pull-warning/)å’Œ[è¿™ä¸ª](https://jumping-code.com/2022/06/09/solution-git-divergent-branches/)ï¼ˆä½†æ„¿ä¸æ˜¯å†…å®¹å†œåœºğŸ™ï¼‰ã€‚

ä¸è¿‡ï¼Œæ„Ÿè°¢å‰è¾ˆä»¬çš„äº’è”ç½‘ç²¾ç¥ï¼Œæˆ‘åœ¨ Git çš„å®˜ç½‘ä¸Šæ‰¾åˆ°äº†ä¸€ä»½å®Œæ•´çš„[æ•™ç¨‹](https://git-scm.com/book/zh/v2/)ä»¥åŠ[ç®€ä½“ä¸­æ–‡ç¿»è¯‘ä»¶](https://github.com/progit/progit2-zh/releases/download/2.1.68/progit.pdf/)ï¼Œæˆ‘æ‰“ç®—åœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆå†…å¥½å¥½åœ°å­¦ä¹ ä¸€ä¸‹ã€‚ä½ çŸ¥é“çš„ï¼Œä¹‹å‰æˆ‘æ²¡æœ‰å­¦è¿‡ SQLï¼Œç°åœ¨ä¸ä¹Ÿä¸€æ ·èƒ½ä¸Šæ‰‹äº†ã€‚

æˆ‘æœ€å–œæ¬¢å­¦ä¹ äº†ï¼ˆ
## npm åŒ…åˆ—è¡¨

```bash
% npm list
hexo-site@0.0.0 /Users/clover/github/misaka-clover.github.io
â”œâ”€â”€ core-js@3.37.1
â”œâ”€â”€ hexo-deployer-git@4.0.0
â”œâ”€â”€ hexo-generator-archive@2.0.0
â”œâ”€â”€ hexo-generator-category@2.0.0
â”œâ”€â”€ hexo-generator-feed@3.0.0
â”œâ”€â”€ hexo-generator-index@3.0.0
â”œâ”€â”€ hexo-generator-tag@2.0.0
â”œâ”€â”€ hexo-render-pug@2.1.4
â”œâ”€â”€ hexo-renderer-ejs@2.0.0
â”œâ”€â”€ hexo-renderer-marked@6.3.0
â”œâ”€â”€ hexo-renderer-stylus@3.0.1
â”œâ”€â”€ hexo-server@3.0.0
â”œâ”€â”€ hexo-theme-landscape@1.0.0
â”œâ”€â”€ hexo-theme-yun@1.10.11
â”œâ”€â”€ hexo-wordcount@6.0.1
â”œâ”€â”€ hexo@7.2.0
â”œâ”€â”€ pug-code-gen@3.0.3
â””â”€â”€ pug@3.0.3
```

## åè®°

å…¶å®æˆ‘å½“æ—¶æ˜¯æƒ³è¦ç›´æ¥ç”¨ä¸Šäº‘æ¸¸å‰è¾ˆå¼€å‘çš„æ–°æ¡†æ¶çš„ï¼Œå¯æ˜¯è¿™ä¸­é—´å‡ºäº†ä¸€äº›æˆ‘æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œæƒ³ç€å®ƒè¿˜å¤„äºå¼€å‘ä¸­çš„é˜¶æ®µï¼Œå°±ç®—äº†ã€‚

ç°åœ¨å¯ä»¥åœ¨ MacBook ä¸Šç›´æ¥å‘å¸ƒäº†å§ï¼Ÿé‚£å°±å¿«å¤šå†™ä¸€ç‚¹åšæ–‡å§ï¼
